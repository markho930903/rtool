pub(crate) fn with_invoke_handler(
    builder: tauri::Builder<tauri::Wry>,
) -> tauri::Builder<tauri::Wry> {
    builder.invoke_handler(tauri::generate_handler![
        crate::features::app_manager::commands::app_manager_list,
        crate::features::app_manager::commands::app_manager_get_detail,
        crate::features::app_manager::commands::app_manager_scan_residue,
        crate::features::app_manager::commands::app_manager_cleanup,
        crate::features::app_manager::commands::app_manager_export_scan_result,
        crate::features::app_manager::commands::app_manager_refresh_index,
        crate::features::app_manager::commands::app_manager_set_startup,
        crate::features::app_manager::commands::app_manager_uninstall,
        crate::features::app_manager::commands::app_manager_open_uninstall_help,
        crate::features::app_manager::commands::app_manager_reveal_path,
        crate::features::clipboard::commands::clipboard_list,
        crate::features::clipboard::commands::clipboard_pin,
        crate::features::clipboard::commands::clipboard_delete,
        crate::features::clipboard::commands::clipboard_clear_all,
        crate::features::clipboard::commands::clipboard_save_text,
        crate::features::clipboard::commands::clipboard_get_settings,
        crate::features::clipboard::commands::clipboard_update_settings,
        crate::features::clipboard::commands::clipboard_window_set_mode,
        crate::features::clipboard::commands::clipboard_window_apply_mode,
        crate::features::clipboard::commands::clipboard_copy_back,
        crate::features::clipboard::commands::clipboard_copy_file_paths,
        crate::features::clipboard::commands::clipboard_copy_image_back,
        crate::features::dashboard::commands::dashboard_snapshot,
        crate::features::i18n_import::commands::app_list_locales,
        crate::features::i18n_import::commands::app_reload_locales,
        crate::features::i18n_import::commands::app_import_locale_file,
        crate::features::user_settings::commands::app_get_user_settings,
        crate::features::user_settings::commands::app_update_user_settings,
        crate::features::launcher::commands::launcher_search,
        crate::features::launcher::commands::launcher_execute,
        crate::features::launcher::commands::launcher_get_search_settings,
        crate::features::launcher::commands::launcher_update_search_settings,
        crate::features::launcher::commands::launcher_get_index_status,
        crate::features::launcher::commands::launcher_rebuild_index,
        crate::features::locale::commands::app_get_locale,
        crate::features::locale::commands::app_set_locale,
        crate::features::logging::commands::client_log,
        crate::features::logging::commands::logging_query,
        crate::features::logging::commands::logging_get_config,
        crate::features::logging::commands::logging_update_config,
        crate::features::logging::commands::logging_export_jsonl,
        crate::features::palette::commands::palette_search,
        crate::features::palette::commands::palette_execute,
        crate::features::resource_monitor::commands::resource_monitor_snapshot,
        crate::features::resource_monitor::commands::resource_monitor_history,
        crate::features::resource_monitor::commands::resource_monitor_reset_session,
        crate::features::transfer::commands::transfer_get_settings,
        crate::features::transfer::commands::transfer_update_settings,
        crate::features::transfer::commands::transfer_generate_pairing_code,
        crate::features::transfer::commands::transfer_start_discovery,
        crate::features::transfer::commands::transfer_stop_discovery,
        crate::features::transfer::commands::transfer_list_peers,
        crate::features::transfer::commands::transfer_send_files,
        crate::features::transfer::commands::transfer_pause_session,
        crate::features::transfer::commands::transfer_resume_session,
        crate::features::transfer::commands::transfer_cancel_session,
        crate::features::transfer::commands::transfer_retry_session,
        crate::features::transfer::commands::transfer_list_history,
        crate::features::transfer::commands::transfer_clear_history,
        crate::features::transfer::commands::transfer_open_download_dir,
    ])
}
